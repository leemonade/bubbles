import { Story, Props, Source, Preview } from '@storybook/addon-docs';
import * as stories from './Popover.stories.js';
import { Popover } from './Popover.js';
import { Text } from '../../typography';
import { Box } from '../../layout';
import { Button } from '../../form';
import { ThemeProvider } from './../../ThemeProvider';

# Popover

[Source code](https://github.com/leemonade/bubbles/tree/main/packages/components/src/overlay/Popover/Popover.js)

## Table of Contents

<!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->

- [Overview](#overview)
- [Popover positions](#popover-positions)
- [Popover placement](#popover-placement)
- [Popover other options](#popover-other-options)
- [Component API](#component-api)
- [References](#references)
- [Feedback](#feedback)

## Overview

Popover displays a popover section relative to given `target` element

<ThemeProvider>
  <Box style={{ marginBottom: 80 }}>
    <Popover opened target={<Button>Target element</Button>} position="bottom">
      <Box style={{ padding: 8 }}>
        <Text color="primary" size="lg">
          I'm a popover
        </Text>
      </Box>
    </Popover>
  </Box>
</ThemeProvider>

## Popover positions

Popover has four different positions: `bottom`, `left`, `right`, `top`.

<ThemeProvider>
  <Box
    style={{
      marginBlock: 50,
      marginInline: 130,
      display: 'flex',
      gap: 16,
    }}
  >
    <Popover
      opened
      target={
        <Button size="xs" compact>
          Target element
        </Button>
      }
      position="left"
    >
      <Box style={{ padding: 8 }}>
        <Text color="primary">I'm a popover</Text>
      </Box>
    </Popover>
    <Popover
      opened
      target={
        <Button size="xs" compact>
          Target element
        </Button>
      }
      position="bottom"
    >
      <Box style={{ padding: 8 }}>
        <Text color="primary">I'm a popover</Text>
      </Box>
    </Popover>
    <Popover
      opened
      target={
        <Button size="xs" compact>
          Target element
        </Button>
      }
      position="top"
    >
      <Box style={{ padding: 8 }}>
        <Text color="primary">I'm a popover</Text>
      </Box>
    </Popover>
    <Popover
      opened
      target={
        <Button size="xs" compact>
          Target element
        </Button>
      }
      position="right"
    >
      <Box style={{ padding: 8 }}>
        <Text color="primary">I'm a popover</Text>
      </Box>
    </Popover>
  </Box>
</ThemeProvider>

## Popover placement

It also has different placements for the popover relative to the target element: `center`, `end`, `start`.

<ThemeProvider>
  <Box
    style={{
      marginBottom: 80,
      display: 'flex',
      gap: 16,
    }}
  >
    <Popover opened target={<Button>Target element</Button>} position="bottom" placement="start">
      <Box style={{ padding: 8 }}>
        <Text color="primary">I'm a popover</Text>
      </Box>
    </Popover>
    <Popover opened target={<Button>Target element</Button>} position="bottom">
      <Box style={{ padding: 8 }}>
        <Text color="primary">I'm a popover</Text>
      </Box>
    </Popover>
    <Popover opened target={<Button>Target element</Button>} position="bottom" placement="end">
      <Box style={{ padding: 8 }}>
        <Text color="primary">I'm a popover</Text>
      </Box>
    </Popover>
  </Box>
</ThemeProvider>

## Popover other options

Popover also has the `withArrow` and `withCloseButton` props

<ThemeProvider>
  <Box
    style={{
      marginBottom: 80,
      display: 'flex',
      gap: 16,
    }}
  >
    <Popover opened target={<Button>Target element</Button>} position="bottom" withArrow>
      <Box style={{ padding: 8 }}>
        <Text color="primary">I'm a popover</Text>
      </Box>
    </Popover>
    <Popover opened target={<Button>Target element</Button>} position="bottom" withCloseButton>
      <Box style={{ padding: 8, paddingTop: 24 }}>
        <Text color="primary">I'm a popover</Text>
      </Box>
    </Popover>
  </Box>
</ThemeProvider>

## Component API

<Preview>
  <Story id="atoms-overlay-popover--playground" />
</Preview>

<Props of={Popover} />

## References

[MDN: ARIA dialog role](https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/dialog_role)

[W3: Role attribute](https://www.w3.org/WAI/PF/HTML/wiki/RoleAttribute)

## Feedback

Help us improve this component by providing feedback, asking questions on Slack, or updating this file on
[GitHub](https://github.com/leemonade/bubbles/edit/main/packages/components/src/overlay/Popover/Popover.mdx)
